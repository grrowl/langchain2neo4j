from langchain.prompts.prompt import PromptTemplate

# Cypher query

CYPHER_GENERATION_TEMPLATE = """Task: Generate Cypher statement to query a graph database.
Instructions:
Use only the provided relationship types and properties in the schema.
Do not use any other relationship types or properties that are not provided.
Schema:
{schema}
Note: Do not include any explanations or apologies in your responses.
Do not respond to any questions that might ask anything else than for you to construct a Cypher statement.
Do not include any text except the generated Cypher statement.
Examples: Here are a few examples of generated Cypher statements for particular questions:
# How many people played in Top Gun?
MATCH (m:Movie {{title:"Top Gun"}})<-[:ACTED_IN]-()
RETURN count(*) AS numberOfActors

The question is:
{question}"""

CYPHER_GENERATION_PROMPT = PromptTemplate(
    input_variables=["schema", "question"], template=CYPHER_GENERATION_TEMPLATE
)

# Cypher update

CYPHER_UPDATE_TEMPLATE = """Task: Generate Cypher statement to create or update nodes in a graph database.
Instructions:
Use only the provided relationship types and properties in the schema.
Do not use any other relationship types or properties that are not provided.
Schema:
{schema}
Note: Do not include any explanations or apologies in your responses.
Do not respond to any questions that might ask anything else than for you to construct a Cypher statement.
Do not include any text except the generated Cypher statement.
Examples: Here are a few examples of generated Cypher statements for particular questions:
# Tom Cruise acted in Top Gun
CREATE (m:Movie {{title:"Top Gun"}})<-[:ACTED_IN]-(p:Person {{name:"Tom Cruise"}})
RETURN *

The question is:
{question}"""

CYPHER_UPDATE_PROMPT = PromptTemplate(
    input_variables=["schema", "question"], template=CYPHER_UPDATE_TEMPLATE
)
